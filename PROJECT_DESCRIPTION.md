# Описание исходного проекта: Caja PDF Optimizer Pro

## Обзор
**Caja PDF Optimizer Pro** — это расширение для файлового менеджера Caja (среда рабочего стола MATE на Linux), предназначенное для быстрой оптимизации и сжатия PDF-документов через контекстное меню.

## Основной функционал
1.  **Интеграция в контекстное меню:** Пользователь кликает правой кнопкой мыши по PDF файлу и выбирает действие оптимизации.
2.  **Выбор качества (DPI):** Поддерживаются 4 предустановленных профиля:
    *   75 DPI (Screen/Email)
    *   150 DPI (Ebook/Average)
    *   200 DPI (Print/High) - *Значение по умолчанию*
    *   300 DPI (Pre-press/Best)
3.  **Технология обработки:**
    *   Использует **ImageMagick** (утилита `convert`) для растеризации страниц PDF.
    *   Конвертирует страницы в изображения с JPEG-сжатием (качество 80%).
    *   Удаляет метаданные и цветовые профили (`+profile "*"`) для уменьшения размера.
    *   Собирает страницы обратно в PDF.
4.  **Безопасность данных:**
    *   Создает новый файл с суффиксом (например, `_200dpi.pdf`), не перезаписывая оригинал.
    *   Сравнивает размер полученного файла с оригиналом.
5.  **Взаимодействие с пользователем:**
    *   Отправляет системные уведомления (`notify-send`) о начале, прогрессе и результате (сравнение размеров "было -> стало").
    *   Ведет лог операций в `/tmp/pdf_optimizer.log`.

## Техническая реализация (Linux)
*   **Язык:** Bash script.
*   **Зависимости:** `imagemagick`, `caja-actions` (или аналогичные механизмы расширения Caja), `libnotify-bin` (для уведомлений).
*   **Сборка:** Скрипты для упаковки в `.deb` пакет для Debian/Ubuntu систем.

---

# Концепция порта для Windows 11 (Completed v3.6.2)

**Статус:** Реализовано в версии 3.6.2.
Проект успешно портирован и значительно усовершенствован по сравнению с оригиналом.

## Архитектура Windows-версии
1.  **Ядро (Core):** Скрипт на **Python 3**, выполняющий логику вызова ImageMagick и обработки файлов.
2.  **Движок сжатия (v3.6.2):**
    *   Алгоритм: **JPEG 2000 (.jp2)**.
    *   Оптимизация: **Chroma Subsampling 4:2:0**.
    *   Результат: Сжатие лучше на 30-50%, чем у стандартного JPEG.
3.  **Интерфейс (UI):**
    *   Контекстное меню Windows 11 (через реестр).
    *   Пункты меню: "PDF: Eco", "PDF: Email", "PDF: Print", "PDF: High".
4.  **Приватность (Camouflage Mode):**
    *   Полное удаление метаданных оригинала.
    *   Инъекция фейковых данных (HP/Canon/Xerox сканеры).
5.  **Зависимости:**
    *   Python 3.x (Устанавливается автоматически).
    *   ImageMagick + Ghostscript (Устанавливаются автоматически).
6.  **Уведомления (Silent Mode):**
    *   Неблокирующие уведомления через PowerShell (System Tray Balloon Tips).

